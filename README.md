# RELIC: Recognizing Languages In-Context

The Recognition of Languages In-Context (RELIC) framework evalutaes instruction following using language recognition: the task of determining if a string was generated by a grammar that defines a synthetic language. Unlike many standard evaluations of LLMs' ability to use their context, this task requires composing together a large number of elements (instructions) retrieved from the context. Because the languages are synthetic, the task can be increased in complexity as LLMs' skills improve, and new instances can be automatically generated, addressing data contamination concerns.

## Installation

1. Install `uv`.

```shell
curl -LsSf https://astral.sh/uv/install.sh | sh
```

2. Clone the repo.
3. Run with `uv`.

```shell
uv run src/sample.py  # Runs sample.py inside a virtual environment managed by uv.
```

## Usage

### Generating Grammars

```bash
uv run scripts/gen_grammar.py \
    --n_terminals=5 \
    --n_nonterminals=6 \
    --n_binary_rules=6 \
    --n_lexical_rules=5
```

This process may result in an empty final grammar, in which case you'll need to re-run this until a non-empty one is generated. Once a non-empty grammar is found, it will be saved to `data/grammars/` with as `sample_trim_DATETIME.cfg`.

### Generating Positive Samples

```bash
uv run scripts/gen_samples.py --grammar_file sample_trim_DATETIME.cfg
```

### Generating Negative Samples

## Analysis
